# The `$_` variable
The humble `$_` looks innocuous enough at first: It just represents the "current input line" (more on that later). However, it's actually one of the most interesting of all the globals:

The `$_` is probably the most unusual global of them all. Unique among builtin globals (with the notable exception of `$-d`/`$DEBUG`), it can be assigned _any_ value!

## Crash course + Perl Background
The `$_` variable represents the "current input" line. It comes directly from Perl, where `$_` was used heavily, and was the implicit value for functions that were given no argument:
```perl
# Read each line at a time from stdin, and place them in the `$_` variable
while (<>) {
	next unless /world/; # Require that `$_` contains `world`
	chomp;               # Delete trailing newline off `$_`
	s/hello/hola/;       # Replace `hello` with `hola` in `$_`
	print;               # Print out `$_`
}
```

This is wildly unreadable, especially if you're not familiar with Perl. You can, however, do all these operations with an explicit variable:
```perl
while ($line = <>) {
	next unless $line =~ /world/;
	chomp $line;
	$line =~ s/hello/hola/;
	print $line;
}
```

Ruby, being inspired by Perl, was originally designed with the implicit use of `$_` in mind, with a handful of builtin functions that support it. Rewriting the Perl example using `$_`:
```ruby
while gets                 # Read input line into `$_`
	next unless /world/     # Require `$_` to contain `world`
	$_.chomp!               # These have to be explicit normally. However, see...
	$_.sub! /hello/, 'hola' #  ... the later section about Kernel methods
	print                   # Print `$_` out
end
```

As you can see, pretty similar.

# Complete list of _functions_ that use `$_`
- `Kernel#print`, if called with no arguments, is the same as `Kernel#print($_)`
- `Regexp#~` is a unary operator that is the same as `regex =~ $_`, with the exception that `$_` _must_ be a `String` (or a `String` subclass), or it'll return `nil`. (The `Regexp#=~` method also accepts `Symbol`s, and any type that has a `to_str` defined on it)
- External gem `Zlib::GzipReader#gets` & `readline` assigns it
- `IO#foreach`
- `ARGF#{gets,readline}`
- `IO#{gets,readline}`
- `StringIO#{gets,readline}`

## `Kernel` globals with `-p`: `sub`, `gsub`, `chomp`, `chop`
(all require `String` or its subclass)

# `$_` being a local variable

# Abusing regexes in conditionals (`... if /../`)
`... if /regex/` is identical to `/regex/ =~ $_`, except "captured variables in regex are locals" isnt performed

# `alias`ing `$_`


rb_lastline_set
rb_lastline_set_up seems unused?
âˆš rb_lastline_get

rb_io_gets_m
argf_gets
rb_gets
io_s_foreach
